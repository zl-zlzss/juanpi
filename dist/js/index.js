"use strict";function asyncGeneratorStep(n,e,t,o,a,c,r){try{var s=n[c](r),i=s.value}catch(n){return void t(n)}s.done?e(i):Promise.resolve(i).then(o,a)}function _asyncToGenerator(s){return function(){var n=this,r=arguments;return new Promise(function(e,t){var o=s.apply(n,r);function a(n){asyncGeneratorStep(o,e,t,a,c,"next",n)}function c(n){asyncGeneratorStep(o,e,t,a,c,"throw",n)}a(void 0)})}}console.log("aaa");var value="";function fn(n){if(console.log(n.g),value=$(".search-area").val().trim(),null==n.g||!n.g||!value)return console.log(111),void $(".search>ul").removeClass("active");var e="";n.g.forEach(function(n){e+="\n            <li>".concat(n.q,"</li>\n        ")}),$(".search>ul").html(e),$(".search>ul").addClass("active")}$(function(){var n=getCookie("nickname");n?($(".off").addClass("hide"),$(".on").removeClass("hide").html("欢迎您: ".concat(n,'<a class="exit">退出</a>'))):($(".off").removeClass("hide"),$(".on").addClass("hide"));var e,o=null,a={sort_method:"综合",sort_type:"ASC",current:1,pagesize:100,value:"鞋子"};function t(){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(regeneratorRuntime.mark(function n(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(666),n.next=3,$.get("../server/getIndexList.php",a,null,"json");case 3:e=n.sent,console.log(e),o=e.list,console.log(o),t="",e.list.forEach(function(n){t+='\n                <li>\n                    <div class="goods-pic">\n                        <img src="'.concat(n.img,'" alt="">\n                    </div>\n                    <div class="goods-price">\n                        <span class="price-current">\n                            <em>￥</em>\n                            ').concat(n.price,'\n                        </span>\n                        <span class="price-old">\n                            <em>￥</em>\n                            ').concat(n.oldprice,'\n                        </span>\n                    </div>\n                    <div class="goods-title" data-id="').concat(n.Id,'">\n                        <p class="title" data-id="').concat(n.Id,'">').concat(n.title,'</p>\n                        <span class="sold">').concat(n.time,"</span>\n                    </div>\n                </li>\n            ")}),$(".goods_list").html(t);case 10:case"end":return n.stop()}},n)}))).apply(this,arguments)}function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getTotalPage.php",a,null,"json");case 2:e=n.sent,console.log(e),$(".panel-body").pagination({pageCount:e.total,callback:function(n){a.current=n.getCurrent(),t()}});case 5:case"end":return n.stop()}},n)}))).apply(this,arguments)}t(),function(){r.apply(this,arguments)}(),$(window).on("scroll",function(){$(window).scrollTop()>$(window).height()?$(".side-backtop").fadeIn():$(".side-backtop").fadeOut()}),$(window).trigger("scroll"),$(".side-backtop").click(function(){$("body").animate({scrollTop:0},5e3)}),$(".goods_list").on("click",".goods-title",function(){console.log("跳转");var n=$(this).attr("data-id");setCookie("goods_id",n),window.location.href="../html/detail.html"}),e=getCartNum(),$(".side-cart").html('\n            <a href="./cart.html">\n                <i class="i-cart"> </i>\n                <em class="cartnum">'.concat(e,"</em>\n            </a>\n        ")),$(".cart").html('\n            <span class="iconfont icon-bag" style="color: #ff464e;margin:0 11px 0 11px;"></span>\n            <span>\n                <span class="fl" style="margin: 0;"><a href="./cart.html">购物袋</a></span>\n                <em class="num cartnum">'.concat(e,"</em>\n            </span>\n        ")),$(".search-area").on("input",function(){var n,e;(value=$(this).val().trim())?(n="https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=1446,32857,33124,33061,32973,33099,33101,32962,22159&wd=".concat(value,"&req=2&csor=1&cb=fn&_=1605768936993"),(e=document.createElement("script")).src=n,document.body.appendChild(e),e.remove()):$(".search>ul").css("display ","none")}),$(".search-btn").on("click",function(){console.log("dianjile"),window.location.href="../html/list.html"}),$(".exit").on("click",function(){var n=getCookie("nickname");console.log(n),delCookie(n),window.location.href="./index.html"})});