"use strict";function asyncGeneratorStep(n,t,e,a,o,s,c){try{var r=n[s](c),i=r.value}catch(n){return void e(n)}r.done?t(i):Promise.resolve(i).then(a,o)}function _asyncToGenerator(r){return function(){var n=this,c=arguments;return new Promise(function(t,e){var a=r.apply(n,c);function o(n){asyncGeneratorStep(a,t,e,o,s,"next",n)}function s(n){asyncGeneratorStep(a,t,e,o,s,"throw",n)}o(void 0)})}}$(function(){var n=getCookie("nickname");n?($(".off").addClass("hide"),$(".on").removeClass("hide").text("欢迎您: ".concat(n,'<a class="exit">退出</a>'))):($(".off").removeClass("hide"),$(".on").addClass("hide"));var t,a={classname:"nvzhuang",sort_method:"综合",sort_type:"ASC",current:1,pagesize:50,val:"女装"};function e(){return o.apply(this,arguments)}function o(){return(o=_asyncToGenerator(regeneratorRuntime.mark(function n(){var t,e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getGoodsList.php",a,null,"json");case 2:t=n.sent,console.log(t),e="",t.list.forEach(function(n){e+='\n                <li>\n                    <div class="goods-pic">\n                        <img src="'.concat(n.img,'" alt="">\n                    </div>\n                    <div class="goods-price">\n                        <span class="price-current">\n                            <em>￥</em>\n                            ').concat(n.price,'\n                        </span>\n                        <span class="price-old">\n                            <em>￥</em>\n                            ').concat(n.oldprice,'\n                        </span>\n                    </div>\n                    <div class="goods-title">\n                        <p class="title" data-id="').concat(n.Id,'">').concat(n.title,'</p>\n                        <span class="sold">').concat(n.time,"</span>\n                    </div>\n                </li>\n            ")}),$(".goods_list").html(e);case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}function s(){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getListPage.php",a,null,"json");case 2:t=n.sent,console.log(t),$(".panel-body").pagination({pageCount:t.total,callback:function(n){a.current=n.getCurrent(),e()}});case 5:case"end":return n.stop()}},n)}))).apply(this,arguments)}e(),s(),$(".cateOneBox").on("click","li",function(){console.log($(this)),a.val="女装",$(this).addClass("active").siblings().removeClass("active");var n=$(this).attr("class").split(" ")[0];a.classname=n,s(),e()}),$(".sortBox").on("click","li",function(){var n=$(this).attr("data-type");a.sort_type=n,s(),e(),$(this).attr("data-type","ASC"===n?"DESC":"ASC").siblings().attr("data-type","ASC")}),$(window).on("scroll",function(){$(window).scrollTop()>$(window).height()?$(".side-backtop").fadeIn():$(".side-backtop").fadeOut()}),$(window).trigger("scroll"),$(".side-backtop").click(function(){$("body").animate({scrollTop:0},5e3)}),$(".search-btn").on("click",function(){console.log("我执行了"),$(".cateOneBox").children().removeClass("active"),value=$(".search-area").val().trim(),console.log(value),a.val=value,s(),e()}),$(".goods_list").on("click",".title",function(){console.log("跳转");var n=$(this).attr("data-id");setCookie("goods_id",n),window.location.href="../html/detail.html"}),t=getCartNum(),$(".side-cart").html('\n            <a href="./cart.html">\n                <i class="i-cart"> </i>\n                <em class="cartnum">'.concat(t,"</em>\n            </a>\n        ")),$(".cart").html('\n            <span class="iconfont icon-bag" style="color: #ff464e;margin:0 11px 0 11px;"></span>\n            <span>\n                <span class="fl" style="margin: 0;"><a href="./cart.html">购物袋</a></span>\n                <em class="num cartnum">'.concat(t,"</em>\n            </span>\n        ")),$(".exit").on("click",function(){var n=getCookie("nickname");console.log(n),delCookie(n),window.location.href="./index.html"})});